<button class="close" mat-icon-button (click)="closeDialog()" tabindex="-1">
  <mat-icon class="mat-18">close</mat-icon>
</button>

<h2 mat-dialog-title>New Gateway</h2>
<mat-dialog-content>
  <form class="gateway-form" [formGroup]="gatewayForm">
    <mat-form-field class="full-width" appearance="outline">
      <mat-label>Serial Number</mat-label>
      <input matInput placeholder="Serial number..." formControlName="serial">
    </mat-form-field>

    <mat-form-field class="full-width" appearance="outline">
      <mat-label>Name</mat-label>
      <input matInput placeholder="Name..." formControlName="name" >
    </mat-form-field>

    <mat-form-field class="full-width" appearance="outline">
      <mat-label>IPv4</mat-label>
      <input matInput placeholder="IP address..." formControlName="ip">
      <mat-error *ngIf="gatewayForm.get('ip')?.hasError('pattern')">
        IPv4 format invalid.
      </mat-error>
      <mat-error *ngIf="gatewayForm.get('ip')?.hasError('required')">
        IPv4 cannot be empty.
      </mat-error>
    </mat-form-field>

  </form>
</mat-dialog-content>

<mat-dialog-actions fxLayout="column" fxLayoutAlign="stretch">
  <ng-template [ngIf]="!loading">
    <div fxLayout="row" fxLayoutAlign="end center">
      <button mat-button (click)="closeDialog()">Cancel</button>
      <button mat-button (click)="!loading && save()">Save</button>
    </div>
  </ng-template>
  <ng-template [ngIf]="loading">
    <div fxLayout="row" fxLayoutAlign="center">
      <mat-progress-spinner mode="indeterminate" diameter="25"></mat-progress-spinner>
    </div>
  </ng-template>
</mat-dialog-actions>
